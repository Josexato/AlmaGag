<?xml version="1.0" encoding="utf-8" ?>
<svg baseProfile="full" height="1000" version="1.1" viewBox="0,0,1100,1000" width="1100" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="arrow-end" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5"><path d="M 0 0 L 10 5 L 0 10 z" fill="black" /></marker><marker id="arrow-start" markerHeight="10" markerWidth="10" orient="auto" refX="0" refY="5"><path d="M 10 0 L 0 5 L 10 10 z" fill="black" /></marker><linearGradient id="gradient-input" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#c5e3ed" /><stop offset="100%" stop-color="#7997a1" /></linearGradient><linearGradient id="gradient-main" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#b1f3b1" /><stop offset="100%" stop-color="#64a664" /></linearGradient><linearGradient id="gradient-generator" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffe34c" /><stop offset="100%" stop-color="#b29600" /></linearGradient><linearGradient id="gradient-svgwrite" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#4cffff" /><stop offset="100%" stop-color="#00b2b2" /></linearGradient><linearGradient id="gradient-layout" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-optimizer" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ff917e" /><stop offset="100%" stop-color="#b24531" /></linearGradient><linearGradient id="gradient-geometry" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffc04c" /><stop offset="100%" stop-color="#b27300" /></linearGradient><linearGradient id="gradient-graph" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-collision" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-render" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a64ca6" /><stop offset="100%" stop-color="#590059" /></linearGradient><linearGradient id="gradient-icons" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a64ca6" /><stop offset="100%" stop-color="#590059" /></linearGradient><linearGradient id="gradient-connections" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffc04c" /><stop offset="100%" stop-color="#b27300" /></linearGradient><linearGradient id="gradient-labels" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffd2da" /><stop offset="100%" stop-color="#b2868e" /></linearGradient><linearGradient id="gradient-output" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#b1f3b1" /><stop offset="100%" stop-color="#64a664" /></linearGradient></defs><rect fill="url(#gradient-input)" height="50" stroke="black" width="80" x="500" y="50" /><rect fill="url(#gradient-main)" height="50" stroke="black" width="80" x="500" y="150" /><rect fill="url(#gradient-generator)" height="50" stroke="black" width="80" x="500" y="250" /><ellipse cx="840.0" cy="275.0" fill="url(#gradient-svgwrite)" rx="40.0" ry="25.0" stroke="black" /><rect fill="url(#gradient-layout)" height="50" stroke="black" width="80" x="500" y="370" /><rect fill="url(#gradient-optimizer)" height="50" stroke="black" width="80" x="500" y="490" /><rect fill="url(#gradient-geometry)" height="50" stroke="black" width="80" x="150" y="490" /><rect fill="url(#gradient-graph)" height="50" stroke="black" width="80" x="850" y="400" /><rect fill="url(#gradient-collision)" height="50" stroke="black" width="80" x="850" y="540" /><rect fill="url(#gradient-render)" height="50" stroke="black" width="80" x="500" y="650" /><rect fill="url(#gradient-icons)" height="50" stroke="black" width="80" x="200" y="750" /><rect fill="url(#gradient-connections)" height="50" stroke="black" width="80" x="500" y="750" /><rect fill="url(#gradient-labels)" height="50" stroke="black" width="80" x="800" y="750" /><rect fill="url(#gradient-output)" height="50" stroke="black" width="80" x="500" y="880" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="540.0" x2="540.0" y1="107.0" y2="143.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="540.0" x2="540.0" y1="207.0" y2="243.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="572.0" x2="800.0" y1="275.0" y2="275.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="540.0" x2="540.0" y1="307.0" y2="363.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="540.0" x2="540.0" y1="427.0" y2="483.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="508.0" x2="222.0" y1="515.0" y2="515.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="570.9917738430992" x2="859.0082261569008" y1="507.0306867260602" y2="432.9693132739398" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="571.6783837971574" x2="858.3216162028426" y1="519.5254833995939" y2="560.4745166004061" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="858.0813216054165" x2="221.91867839458354" y1="562.7200944003869" y2="517.2799055996131" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="540.0" x2="540.0" y1="547.0" y2="643.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="509.6421344623836" x2="270.3578655376164" y1="685.1192885125388" y2="764.8807114874612" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="540.0" x2="540.0" y1="707.0" y2="743.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="570.3578655376165" x2="809.6421344623835" y1="685.1192885125388" y2="764.8807114874612" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="540.0" x2="540.0" y1="807.0" y2="873.0" /><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="75">archivo.gag</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="93">(JSON SDJF)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="175">main.py</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="193">(CLI)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="end" x="485" y="275">generator.py</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="end" x="485" y="293">(orquestador)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="840" y="320">svgwrite</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="840" y="338">(libreria)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="395">Layout</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="413">(inmutable)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="540" y="560">AutoLayoutOptimizer</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="540" y="578">(v2.1)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="190" y="560">GeometryCalculator</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="190" y="578">bboxes</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="190" y="596">intersecciones</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="890" y="470">GraphAnalyzer</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="890" y="488">niveles</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="890" y="506">grupos</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="890" y="524">prioridades</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="890" y="610">CollisionDetector</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="890" y="628">detect_all()</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="890" y="646">count()</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="675">Renderizado</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="693">(3 fases)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="240" y="820">1. icons.py</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="240" y="838">draw_icon_shape()</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="775">2. connections.py</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="595" y="793">draw_connection_line()</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="840" y="820">3. labels</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="840" y="838">draw_*_label()</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="540" y="950">archivo.svg</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="540" y="968">(salida)</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="540.0" y="115.0">lee JSON</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="540.0" y="215.0">generate_diagram()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="686.0" y="265.0">Drawing()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="540.0" y="325.0">Layout(...)</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="540.0" y="445.0">optimize()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="365.0" y="505.0">usa</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="715.0" y="460.0">analyze()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="715.0" y="530.0">evaluate()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="540.0" y="530.0">usa</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="540.0" y="585.0">layout optimizado</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="390.0" y="715.0">fase 1</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="540.0" y="715.0">fase 2</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="690.0" y="715.0">fase 3</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="540.0" y="830.0">dwg.save()</text></svg>