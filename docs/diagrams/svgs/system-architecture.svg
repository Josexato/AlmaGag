<?xml version="1.0" encoding="utf-8" ?>
<svg baseProfile="full" height="1000" version="1.1" viewBox="0,0,1400,1000" width="1400" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="arrow-end" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5"><path d="M 0 0 L 10 5 L 0 10 z" fill="black" /></marker><marker id="arrow-start" markerHeight="10" markerWidth="10" orient="auto" refX="0" refY="5"><path d="M 10 0 L 0 5 L 10 10 z" fill="black" /></marker><linearGradient id="gradient-cli" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffe34c" /><stop offset="100%" stop-color="#b29600" /></linearGradient><linearGradient id="gradient-generator" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffc04c" /><stop offset="100%" stop-color="#b27300" /></linearGradient><linearGradient id="gradient-optimizer" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#4cffff" /><stop offset="100%" stop-color="#00b2b2" /></linearGradient><linearGradient id="gradient-positioner" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-container-calc" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-sizing" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-geometry" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-router-manager" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#b1f3b1" /><stop offset="100%" stop-color="#64a664" /></linearGradient><linearGradient id="gradient-router-base" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-routers" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-label-opt" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-collision-det" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-draw-elements" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ff917e" /><stop offset="100%" stop-color="#b24531" /></linearGradient><linearGradient id="gradient-draw-connections" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-draw-icons" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient></defs><rect fill="url(#gradient-cli)" height="50" stroke="black" width="80" x="700.0" y="20" /><rect fill="url(#gradient-generator)" height="30.0" stroke="black" width="60.0" x="710.0" y="180.0" /><path d="m 33.382966,8e-4 c -3.861042,1.2762 -4.631646,6.37476 -8.713738,7.58064 -4.763632,3.80168 -7.027208,10.1432 -6.16644,16.12572 0.33152,3.88876 1.751504,7.57356 3.294256,11.12272 C 14.743804,40.50868 7.020292,45.29236 0,51.01416 c 0.0088,1.60388 2.571968,3.52192 3.1231,4.06796 3.251976,-1.413 1.180916,4.0242 4.391336,2.93684 0.547784,2.65168 4.059744,2.41792 4.424732,5.1808 3.474884,1.40976 5.871092,-3.60896 9.041844,-4.63968 4.692352,-3.27 9.331832,-6.6164 14.073835,-9.8148 4.49228,1.24988 8.3626,4.127 12.98444,5.03568 7.80432,2.36256 16.43632,1.5656 23.73004,-2.02148 4.6368,-2.28272 0.2696,-7.48384 -3.512,-7.30124 -7.07976,-1.44424 -14.26972,-3.36556 -20.32528,-7.46088 8.56576,-5.7508 17.58792,-10.81572 25.892,-16.95564 1.39956,-2.93964 -3.96644,-4.45148 -4.29872,-6.52308 -2.5844,0.91256 -2.66588,-1.5376 -2.34908,-2.97408 -1.63932,-1.19972 -3.72724,-3.25572 -4.68312,-4.18028 -8.53084,4.92348 -16.4076,10.8902 -24.95356,15.789 -2.407,-3.7232 -1.01408,-8.56452 -2.01052,-12.73416 -0.858401,-2.87864 1.40132,-7.4902 -0.910321,-9.33832 L 33.968326,0.0488 33.382806,0 Z m -0.1872,0.8914 c 0.3068,3.05576 -2.295922,6.0048 -0.538122,9.15572 0.675682,5.46024 0.604682,10.97176 0.699762,16.46244 -3.362242,1.81824 -6.593462,6.28168 -10.531522,5.58328 C 20.298644,29.42576 20.202072,25.23552 19.71614,21.7482 19.5367,15.91892 22.46468,9.9152 27.693068,7.11652 29.982004,5.45768 31.379684,2.92084 33.195766,0.8922 Z m 29.594001,6.4392 c 1.46792,2.53452 4.402,4.60776 3.57992,7.65776 1.61956,-0.52456 3.84108,-1.75012 3.77228,0.86636 2.411,1.43844 4.43252,4.9366 0.3672,5.68956 -7.52336,4.96068 -15.18952,9.69916 -22.79632,14.52964 -0.9216,-1.074 -5.60524,-6.12564 -3.166,-2.69128 3.265,2.94944 2.28268,7.38576 -1.67776,9.05112 -3.09804,2.1632 -7.06632,6.08608 -10.816643,3.16052 2.840322,1.60192 1.262722,4.59268 -1.56468,5.2684 -5.79348,4.02824 -11.478884,8.34496 -17.461448,12.1556 C 11.925032,61.34676 11.677424,58.83888 9.39482,59.16524 9.42802,57.0466 7.921908,56.51992 6.429668,56.32936 6.050108,54.97788 5.144404,52.72108 3.569348,54.4524 1.890272,53.17044 -0.134324,50.23212 3.121808,49.49748 9.527956,44.95864 15.784572,40.20916 22.281804,35.79912 c 1.534164,0.80484 3.739236,5.00052 4.030108,4.09568 -2.475856,-2.3784 -3.285572,-6.73764 0.843508,-7.77088 3.400024,-1.60856 6.755106,-5.66968 9.963827,-6.033 1.6652,1.04096 2.7588,5.7114 3.72452,5.18316 -0.2484,-2.83948 -5.46992,-6.43472 -1.878,-8.59836 7.42756,-5.4882 15.29672,-10.35556 23.22328,-15.07924 l 0.60088,-0.2652 z m -16.048,32.9764 c 7.33188,4.47516 15.82704,7.10848 24.43088,7.2878 2.95896,3.62772 -4.24068,5.12244 -6.89324,5.56544 -9.07796,1.72076 -18.81696,-0.2268 -26.63288,-5.07956 0.0952,-2.88528 5.25168,-3.33004 6.8208,-5.91508 0.75888,-0.61864 1.51188,-1.24448 2.27444,-1.8586 z" fill="black" stroke="black" stroke-width="0.5" transform="translate(520.0,320) scale(0.8333333333333334)" /><path d="m 12.420856,61.7005 c -0.901752,-1.95184 -1.520106,-2.59004 -2.509542,-2.59004 -0.365876,0 -0.39353,-0.037 -0.533738,-0.71228 -0.19222,-0.92592 -0.840804,-1.60888 -1.797812,-1.89308 -0.36702,-0.109 -0.757776,-0.1982 -0.86834,-0.1982 -0.1321,0 -0.303468,-0.28568 -0.499872,-0.83334 -0.358934,-1.0008 -0.976662,-1.71534 -1.482938,-1.71534 -0.19372,0 -0.550036,0.1222 -0.791824,0.27168 l -0.4396,0.2717 -0.61976,-0.61044 c -0.727678,-0.71674 -1.398376,-1.9033 -1.398376,-2.47392 0,-0.80186 0.371614,-1.2 1.531726,-1.64108 0.1745,-0.0664 2.639484,-1.80054 5.477732,-3.85378 12.105662,-8.75746 13.688092,-9.85432 13.983802,-9.69278 0.355472,0.1942 1.06138,0.98676 2.240946,2.51616 0.938626,1.217 1.295252,1.57706 1.562068,1.57706 0.16176,0 -0.0126,-0.32846 -0.554546,-1.0446 -2.204708,-2.9133 -1.7517,-5.69618 1.104954,-6.78776 1.095332,-0.41854 2.42461,-1.28368 5.173694,-3.3672 2.315476,-1.7549 3.870317,-2.61038 4.762757,-2.6205 0.53806,-0.006 0.6015,0.031 1.04036,0.60804 0.25704,0.338 0.85698,1.37022 1.33322,2.2938 0.96186,1.86546 1.14344,2.12528 1.48518,2.12528 0.54976,0 0.1164,-1.19058 -1.15096,-3.16142 -1.63672,-2.54542 -1.955,-3.5232 -1.44932,-4.45228 0.32188,-0.59136 4.23894,-3.42046 9.84424,-7.11004 5.27242,-3.47044 14.4363,-9.10636 14.80676,-9.10636 0.1042,0 0.25006,0.129 0.32408,0.28672 0.074,0.1578 0.57552,0.85238 1.1145,1.54372 1.89948,2.43646 2.44942,3.61534 2.31176,4.9554 -0.0832,0.81006 -0.0558,0.83294 0.64476,0.54018 1.94884,-0.81428 2.97162,-0.57646 2.97162,0.69098 0,0.27488 0.1192,0.4416 0.50902,0.71172 1.23736,0.8575 2.16708,2.28378 2.16708,3.32452 0,0.51574 -0.0626,0.65518 -0.48138,1.07408 -0.30412,0.30412 -0.7181,0.55168 -1.12416,0.67226 -0.37332,0.1108 -1.62728,0.82974 -2.99118,1.7148 -4.2357,2.7486 -19.17252,12.22338 -20.21678,12.824 -0.0972,0.0558 -0.87376,-0.63746 -2.08196,-1.8591 -1.18482,-1.198 -1.952,-1.8845 -1.99216,-1.78266 -0.08,0.20298 0.3841,0.91584 1.0952,1.68216 0.29266,0.3154 0.7448,1.00056 1.00474,1.5226 0.43504,0.87366 0.47262,1.03632 0.47262,2.04554 0,1.01058 -0.0374,1.17228 -0.47904,2.06568 -0.5417,1.0961 -1.39922,1.97108 -2.524,2.57548 -0.3809,0.20466 -1.2373,0.77474 -1.90316,1.26686 -3.18876,2.3567 -4.84414,3.16532 -6.507001,3.17856 -0.84492,0.006 -1.07256,-0.0456 -1.84778,-0.424 -1.208232,-0.58988 -1.212306,-0.59022 -0.580702,-0.0464 1.227322,1.05656 1.193242,2.48996 -0.08668,3.6439 -0.548778,0.49478 -1.415764,0.99314 -1.72773,0.99314 -0.10064,0 -2.325074,1.52716 -4.943136,3.3937 -8.074734,5.75688 -12.392204,8.7125 -12.726914,8.7125 -0.0779,0 -0.371548,-0.4975 -0.652472,-1.10556 z" fill="#ffff00" fill-rule="evenodd" stroke="#cbcbcb" stroke-width="0.0611682" transform="translate(520.0,320) scale(0.8333333333333334)" /><path d="m 22.489342,31.52582 c -0.64424,-0.73374 -1.395572,-2.34156 -1.757046,-3.75998 -0.432412,-1.69676 -0.8834,-5.1668 -0.882142,-6.78748 0.0042,-5.56444 2.985634,-10.93886 7.526286,-13.56762 1.005766,-0.58228 2.355818,-1.97466 4.135702,-4.2654 0.827626,-1.06518 1.543744,-1.93668 1.591384,-1.93668 0.1706,0 -0.1064,1.60026 -0.622596,3.59622 -0.598096,2.31274 -0.619242,3.40994 -0.09546,4.95432 0.18338,0.54074 0.362066,1.66158 0.466026,2.92328 0.1655,2.00848 0.43005,9.39754 0.43967,12.27946 l 0.006,1.4634 -1.13276,0.76812 c -0.62302,0.42246 -1.92204,1.3953 -2.886722,2.16188 -2.277544,1.80984 -3.762946,2.56562 -5.227054,2.65958 l -1.07041,0.0686 z" fill="#bfbfbf" fill-rule="evenodd" stroke="#cbcbcb" stroke-width="0.0701582" transform="translate(520.0,320) scale(0.8333333333333334)" /><path d="m 54.635847,53.58508 c -5.4849,-0.52902 -10.7308,-2.11586 -15.27404,-4.62028 -0.7235,-0.39882 -1.38848,-0.78378 -1.47772,-0.85548 -0.59134,-0.47502 0.83618,-2.0722 2.72012,-3.04342 1.85938,-0.95856 3.01272,-1.72266 3.55318,-2.35406 0.26648,-0.31134 0.96346,-0.95642 1.54882,-1.4335 l 1.0643,-0.86746 1.09542,0.64762 c 4.8739,2.88154 11.32624,5.16618 17.03906,6.03318 1.66192,0.25222 5.11384,0.59682 5.97832,0.59682 0.39332,0 0.85242,0.8396 0.85306,1.56004 0.002,1.97942 -3.89552,3.5343 -10.74242,4.28586 -1.21644,0.1336 -5.17222,0.165 -6.3581,0.0508 z" fill="#bfbfbf" fill-rule="evenodd" stroke="#cbcbcb" stroke-width="0.0701582" transform="translate(520.0,320) scale(0.8333333333333334)" /><rect fill="url(#gradient-optimizer)" height="50" stroke="black" width="80" x="640.0" y="320" /><rect fill="url(#gradient-positioner)" height="50" stroke="black" width="80" x="400.0" y="470" /><rect fill="url(#gradient-container-calc)" height="50" stroke="black" width="80" x="520.0" y="470" /><ellipse cx="620.0" cy="645.0" fill="url(#gradient-sizing)" rx="40.0" ry="25.0" stroke="black" /><ellipse cx="740.0" cy="645.0" fill="url(#gradient-geometry)" rx="40.0" ry="25.0" stroke="black" /><rect fill="url(#gradient-router-manager)" height="50" stroke="black" width="80" x="640.0" y="470" /><rect fill="url(#gradient-router-base)" height="50" stroke="black" width="80" x="820.0" y="620" /><ellipse cx="740.0" cy="795.0" fill="url(#gradient-routers)" rx="40.0" ry="25.0" stroke="black" /><rect fill="url(#gradient-label-opt)" height="50" stroke="black" width="80" x="760.0" y="470" /><rect fill="url(#gradient-collision-det)" height="50" stroke="black" width="80" x="880.0" y="470" /><rect fill="url(#gradient-draw-elements)" height="30.0" stroke="black" width="60.0" x="770.0" y="330.0" /><rect fill="url(#gradient-draw-connections)" height="30.0" stroke="black" width="60.0" x="890.0" y="330.0" /><ellipse cx="1040.0" cy="495.0" fill="url(#gradient-draw-icons)" rx="40.0" ry="25.0" stroke="black" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="740.0" x2="740.0" y1="77.0" y2="163.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="715.4169190528839" x2="584.5830809471161" y1="215.48590078926335" y2="324.5140992107366" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="728.1154983566687" x2="691.8845016433313" y1="224.7112541083283" y2="315.2887458916717" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="652.8640542718372" x2="467.1359457281628" y1="361.95996608010176" y2="478.04003391989824" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="660.0097584782584" x2="579.9902415217416" y1="369.98780190217695" y2="470.01219809782305" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="680.0" x2="680.0" y1="377.0" y2="463.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="699.9902415217416" x2="780.0097584782584" y1="369.98780190217695" y2="470.01219809782305" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="707.1359457281628" x2="892.8640542718372" y1="361.95996608010176" y2="478.04003391989824" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="464.583080947116" x2="589.271148816105" y1="515.4859007892634" y2="619.3926240134208" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="584.5830809471161" x2="709.271148816105" y1="515.4859007892634" y2="619.3926240134208" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="704.5830809471161" x2="835.4169190528839" y1="515.4859007892634" y2="624.5140992107366" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="840.0097584782584" x2="764.987801902177" y1="669.987801902177" y2="763.7652476222788" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="788.1154983566687" x2="754.8556270541642" y1="524.7112541083283" y2="607.8609323645896" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="895.4169190528839" x2="770.728851183895" y1="515.4859007892634" y2="619.3926240134208" /><line marker-start="url(#arrow-start)" stroke="black" stroke-width="2" x1="648.0" x2="592.0" y1="345.0" y2="345.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="751.8845016433313" x2="788.1154983566687" y1="224.7112541083283" y2="315.2887458916717" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="764.5830809471161" x2="895.4169190528839" y1="215.48590078926335" y2="324.5140992107366" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="827.1359457281628" x2="1006.0800678397965" y1="361.95996608010176" y2="473.8000423998728" /><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="792.6" y="45.0">CLI Layer
main.py</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="792.6" y="195.0">Core Layer
generator.py</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="end" x="507.4" y="345.0">Layout Object
Estado del diagrama</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="680.0" y="299.0">AutoLayoutOptimizer
Orquestador Layout</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="end" x="387.4" y="495.0">AutoLayoutPositioner
Cálculo coordenadas</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="560.0" y="541.0">ContainerCalculator
Dimensiones</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="620.0" y="691.0">SizingCalculator
hp/wp sizing</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="740.0" y="691.0">GeometryCalculator
Bounding boxes</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="732.6" y="495.0">RouterManager
Dispatcher routing</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="912.6" y="645.0">ConnectionRouter
Base abstracta</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="740.0" y="841.0">Routers
Straight, Orthogonal
Bezier, Arc</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="852.6" y="495.0">LabelPositionOptimizer
Optimización etiquetas</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="972.6" y="495.0">CollisionDetector
Resolución colisiones</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="852.6" y="345.0">Rendering Layer
draw/elements.py</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="972.6" y="345.0">draw/connections.py
Render conexiones</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="1040.0" y="541.0">draw/*.py
Íconos específicos</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="end" x="689.2" y="120.0">invoca</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="650.0" y="227.0">crea</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="710.0" y="313.0">optimiza</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="560.0" y="463.0">fase 1</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="620.0" y="463.0">fase 2</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="730.8" y="420.0">fase 3</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="740.0" y="463.0">fase 4</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="850.8" y="420.0">fase 5</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="526.9271148816105" y="610.4392624013421">consulta</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="646.9271148816106" y="610.4392624013421">consulta</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="end" x="719.2" y="570.0">delega</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="802.4987801902178" y="673.876524762228">impl</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="822.2855627054164" y="609.286093236459">usa</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="883.8728851183894" y="567.4392624013421">usa</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="end" x="569.2" y="302.0">actualiza</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="820.8" y="227.0">render</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="830.0" y="313.0">render</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="967.4080067839795" y="417.8800042399873">usa</text></svg>