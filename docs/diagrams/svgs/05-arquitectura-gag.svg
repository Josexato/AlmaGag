<?xml version="1.0" encoding="utf-8" ?>
<svg baseProfile="full" height="1170" version="1.1" viewBox="0,0,1400,1170" width="1400" xmlns="http://www.w3.org/2000/svg" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><marker id="arrow-end" markerHeight="10" markerWidth="10" orient="auto" refX="10" refY="5"><path d="M 0 0 L 10 5 L 0 10 z" fill="black" /></marker><marker id="arrow-start" markerHeight="10" markerWidth="10" orient="auto" refX="0" refY="5"><path d="M 10 0 L 0 5 L 10 10 z" fill="black" /></marker><linearGradient id="gradient-layout_container" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#eeeeff" /><stop offset="100%" stop-color="#a2a2b2" /></linearGradient><linearGradient id="gradient-layout_container_icon" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#eeeeff" /><stop offset="100%" stop-color="#a2a2b2" /></linearGradient><linearGradient id="gradient-routing_container" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffeeee" /><stop offset="100%" stop-color="#b2a2a2" /></linearGradient><linearGradient id="gradient-routing_container_icon" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffeeee" /><stop offset="100%" stop-color="#b2a2a2" /></linearGradient><linearGradient id="gradient-analysis_container" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#fffaee" /><stop offset="100%" stop-color="#b2ada2" /></linearGradient><linearGradient id="gradient-analysis_container_icon" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#fffaee" /><stop offset="100%" stop-color="#b2ada2" /></linearGradient><linearGradient id="gradient-draw_container" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#f4eeff" /><stop offset="100%" stop-color="#a8a2b2" /></linearGradient><linearGradient id="gradient-draw_container_icon" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#f4eeff" /><stop offset="100%" stop-color="#a8a2b2" /></linearGradient><linearGradient id="gradient-input" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#c5e3ed" /><stop offset="100%" stop-color="#7997a1" /></linearGradient><linearGradient id="gradient-main" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#b1f3b1" /><stop offset="100%" stop-color="#64a664" /></linearGradient><linearGradient id="gradient-generator" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffe34c" /><stop offset="100%" stop-color="#b29600" /></linearGradient><linearGradient id="gradient-svgwrite" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#4cffff" /><stop offset="100%" stop-color="#00b2b2" /></linearGradient><linearGradient id="gradient-layout" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-sizing" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-positioner" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-optimizer" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ff917e" /><stop offset="100%" stop-color="#b24531" /></linearGradient><linearGradient id="gradient-router_mgr" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ff9797" /><stop offset="100%" stop-color="#b24a4a" /></linearGradient><linearGradient id="gradient-routers" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffbca1" /><stop offset="100%" stop-color="#b27055" /></linearGradient><linearGradient id="gradient-geometry" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffc04c" /><stop offset="100%" stop-color="#b27300" /></linearGradient><linearGradient id="gradient-graph" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-collision" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-render" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a64ca6" /><stop offset="100%" stop-color="#590059" /></linearGradient><linearGradient id="gradient-icons" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a64ca6" /><stop offset="100%" stop-color="#590059" /></linearGradient><linearGradient id="gradient-connections" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffc04c" /><stop offset="100%" stop-color="#b27300" /></linearGradient><linearGradient id="gradient-labels" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#ffd2da" /><stop offset="100%" stop-color="#b2868e" /></linearGradient><linearGradient id="gradient-containers" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#a6a6a6" /><stop offset="100%" stop-color="#595959" /></linearGradient><linearGradient id="gradient-output" x1="0%" x2="0%" y1="0%" y2="100%"><stop offset="0%" stop-color="#b1f3b1" /><stop offset="100%" stop-color="#64a664" /></linearGradient></defs><rect fill="url(#gradient-layout_container)" height="288.0" opacity="0.3" rx="14.4" ry="14.4" stroke="black" stroke-width="2" width="324.0" x="460.0" y="80" /><rect fill="url(#gradient-layout_container_icon)" height="50" stroke="black" width="80" x="470.0" y="90" /><rect fill="url(#gradient-routing_container)" height="251.0" opacity="0.3" rx="12.55" ry="12.55" stroke="black" stroke-width="2" width="308.0" x="608.0" y="80" /><rect fill="url(#gradient-routing_container_icon)" height="50" stroke="black" width="80" x="618.0" y="90" /><rect fill="url(#gradient-analysis_container)" height="288.0" opacity="0.3" rx="14.4" ry="14.4" stroke="black" stroke-width="2" width="316.0" x="708.0" y="80" /><rect fill="url(#gradient-analysis_container_icon)" height="50" stroke="black" width="80" x="718.0" y="90" /><rect fill="url(#gradient-draw_container)" height="288.0" opacity="0.3" rx="14.4" ry="14.4" stroke="black" stroke-width="2" width="316.0" x="844.0" y="80" /><rect fill="url(#gradient-draw_container_icon)" height="50" stroke="black" width="80" x="854.0" y="90" /><rect fill="url(#gradient-input)" height="50" stroke="black" width="80" x="650" y="50" /><rect fill="url(#gradient-main)" height="50" stroke="black" width="80" x="650" y="160" /><rect fill="url(#gradient-generator)" height="50" stroke="black" width="80" x="650" y="270" /><ellipse cx="1090.0" cy="295.0" fill="url(#gradient-svgwrite)" rx="40.0" ry="25.0" stroke="black" /><rect fill="url(#gradient-layout)" height="50" stroke="black" width="80" x="540.0" y="166" /><rect fill="url(#gradient-sizing)" height="50" stroke="black" width="80" x="640.0" y="166" /><rect fill="url(#gradient-positioner)" height="50" stroke="black" width="80" x="540.0" y="236" /><rect fill="url(#gradient-optimizer)" height="50" stroke="black" width="80" x="650" y="520" /><rect fill="url(#gradient-router_mgr)" height="50" stroke="black" width="80" x="660.0" y="166" /><ellipse cx="800.0" cy="191.0" fill="url(#gradient-routers)" rx="40.0" ry="25.0" stroke="black" /><rect fill="url(#gradient-geometry)" height="50" stroke="black" width="80" x="780.0" y="148" /><rect fill="url(#gradient-graph)" height="50" stroke="black" width="80" x="880.0" y="148" /><rect fill="url(#gradient-collision)" height="50" stroke="black" width="80" x="780.0" y="218" /><rect fill="url(#gradient-render)" height="50" stroke="black" width="80" x="650" y="810" /><rect fill="url(#gradient-icons)" height="50" stroke="black" width="80" x="900.0" y="148" /><rect fill="url(#gradient-connections)" height="50" stroke="black" width="80" x="1000.0" y="148" /><rect fill="url(#gradient-labels)" height="50" stroke="black" width="80" x="900.0" y="218" /><rect fill="url(#gradient-containers)" height="50" stroke="black" width="80" x="1000.0" y="218" /><rect fill="url(#gradient-output)" height="50" stroke="black" width="80" x="650" y="1000" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="690.0" x2="690.0" y1="114.5" y2="153.0" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="693.119761000121" x2="698.880238999879" y1="216.84756020956902" y2="275.652439790431" /><path d="M 733.9834064750877,306.4696067501583 C 833.8333333333334,380.93333333333334 963.1666666666667,376.7666666666667 1050.0207419061403,296.2879915623022" fill="none" marker-end="url(#arrow-end)" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="702.0,275.5 702.0,251.75 580.0,251.75 580.0,228.0" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="612.0,196.0 630.0,196.0 630.0,191.0 648.0,191.0" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="580.0,228.0 580.0,229.0" stroke="black" stroke-width="2" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="590.633128380664" x2="699.366871619336" y1="226.18172594203847" y2="534.8182740579615" /><polyline fill="none" marker-end="url(#arrow-end)" points="710.0,533.0 710.0,380.5 700.0,380.5 700.0,228.0" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="732.0,196.0 750.0,196.0 750.0,198.5 760.0,198.5" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="710.0,533.0 710.0,369.0 820.0,369.0 820.0,205.0" stroke="black" stroke-width="2" /><path d="M 725.1110852004934,536.792640959079 C 878.0,486.83333333333337 948.0,356.1666666666667 904.8889147995066,201.20735904092103" fill="none" marker-end="url(#arrow-end)" stroke="black" stroke-width="2" /><path d="M 720.3447116344122,534.7182077610843 C 827.1666666666666,485.1666666666667 863.8333333333334,377.83333333333337 809.6552883655878,273.2817922389157" fill="none" marker-end="url(#arrow-end)" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="820.0,211.0 820.0,205.0" stroke="black" stroke-width="2" /><path d="M 711.7387448098376,186.91930423873515 C 732.0666666666666,227.0 778.7333333333333,221.0 788.2612551901624,177.08069576126485" fill="none" marker-end="url(#arrow-end)" stroke="black" stroke-width="2" /><line marker-end="url(#arrow-end)" stroke="black" stroke-width="2" x1="707.740169487829" x2="692.259830512171" y1="596.9201059844146" y2="815.5798940155854" /><polyline fill="none" marker-end="url(#arrow-end)" points="690.0,815.5 690.0,510.25 940.0,510.25 940.0,205.0" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="690.0,815.5 690.0,514.0 1040.0,514.0 1040.0,212.5" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="690.0,815.5 690.0,545.25 940.0,545.25 940.0,275.0" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="690.0,815.5 690.0,545.25 1040.0,545.25 1040.0,275.0" stroke="black" stroke-width="2" /><path d="M 1008.0332008534277,181.95730996109373 C 921.2416666666667,66.66666666666666 807.9083333333334,71.83333333333334 731.9667991465723,194.54269003890627" fill="none" marker-end="url(#arrow-end)" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="940.0,205.0 940.0,602.75 690.0,602.75 690.0,1000.5" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="1040.0,212.5 1040.0,606.5 690.0,606.5 690.0,1000.5" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="940.0,275.0 940.0,637.75 690.0,637.75 690.0,1000.5" stroke="black" stroke-width="2" /><polyline fill="none" marker-end="url(#arrow-end)" points="1040.0,275.0 1040.0,637.75 690.0,637.75 690.0,1000.5" stroke="black" stroke-width="2" /><path d="M 730.0,1044.5 A 70,70 0 0,1 730.0,1020.5" fill="none" marker-end="url(#arrow-end)" stroke="black" stroke-width="2" /><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="720.0" y="75.0">archivo.gag
(JSON SDJF v3.0)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="end" x="660.0" y="185.0">main.py
(CLI)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="690.0" y="310.0">generator.py
(orquestador)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="1090.0" y="310.0">svgwrite
(librería externa)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="end" x="550.0" y="191.0">Layout
Patrón Inmutable</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="680.0" y="206.0">SizingCalculator
hp/wp (v3.0)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="580.0" y="276.0">AutoLayoutPositioner
Layout jerárquico</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="690.0" y="560.0">AutoLayoutOptimizer
v3.0 Jerárquico</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="730.0" y="191.0">RouterManager
Coordinador</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="800.0" y="206.0">5 Routers
straight/orthogonal
bezier/arc/manual</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="850.0" y="173.0">GeometryCalculator
bboxes
intersecciones</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="950.0" y="173.0">GraphAnalyzer
topología (v3.0)
niveles
grupos</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="820.0" y="258.0">CollisionDetector
detect_all()
count()</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="690.0" y="850.0">Renderizado SVG
(3 fases secuenciales)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="940.0" y="188.0">icons.py
Fase 1: Shapes
4 tipos + BWT</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="1040.0" y="188.0">connections.py
Fase 2: Lines
Routing types (v3.0)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="940.0" y="258.0">labels
Fase 3: Text
draw_*_label()</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="start" x="1070.0" y="243.0">container.py
Agrupación visual
(v1.5)</text><text fill="black" font-family="Arial, sans-serif" font-size="14px" text-anchor="middle" x="690.0" y="1040.0">archivo.svg
(Salida vectorial)</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="690.0" y="118.75">lee JSON</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="696.0" y="231.25">generate_diagram()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="892.0020741906139" y="286.37879915623023">Drawing()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="end" x="611.0" y="251.75">Layout(...)</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="630.0" y="178.5">usa</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="end" x="550.0" y="228.5">usa</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="645.0" y="395.5">optimize()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="735.0" y="380.5">calculate_all_paths()
v3.0</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="778.0" y="197.25">delega</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="end" x="735.0" y="384.0">usa</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="815.0" y="384.0">analyze()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="end" x="735.0" y="419.0">evaluate()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="850.0" y="208.0">usa bboxes</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="750.0" y="167.0">calcula tamaños</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="700.0" y="691.25">layout optimizado</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="815.0" y="495.25">fase 1</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="895.0" y="514.0">fase 2</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="815.0" y="530.25">fase 3</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="895.0" y="545.25">si usa contains</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="900.0" y="188.25">lee computed_path</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="815.0" y="617.75">dwg.add()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="895.0" y="621.5">dwg.add()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="815.0" y="652.75">dwg.add()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="start" x="895.0" y="637.75">dwg.add()</text><text fill="gray" font-family="Arial, sans-serif" font-size="12px" text-anchor="middle" x="800.0" y="1017.5">dwg.save()</text><text fill="black" font-family="Arial, sans-serif" font-size="16px" font-weight="bold" text-anchor="start" x="560.0" y="106">Layout Module</text><text fill="black" font-family="Arial, sans-serif" font-size="16px" font-weight="bold" text-anchor="start" x="560.0" y="124">(jerárquico v3.0)</text><text fill="black" font-family="Arial, sans-serif" font-size="16px" font-weight="bold" text-anchor="start" x="708.0" y="106">Routing Module</text><text fill="black" font-family="Arial, sans-serif" font-size="16px" font-weight="bold" text-anchor="start" x="708.0" y="124">(v3.0)</text><text fill="black" font-family="Arial, sans-serif" font-size="16px" font-weight="bold" text-anchor="start" x="808.0" y="106">Analysis Module</text><text fill="black" font-family="Arial, sans-serif" font-size="16px" font-weight="bold" text-anchor="start" x="944.0" y="106">Draw Module</text></svg>